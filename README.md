# Laravel Auto CRUD Generator

This generator reads your database schema files and generates CRUD-related files based on that. See below form more details.

## About this package

This package is highly inspired by the `nafiesl/SimpleCrudGenerator` package, which also provides a crud generator. However, that package creates simple stubs where all models are regarded as a set of two columns (name and description). Given this, it is still laborious to go back to each generated file (model, factory, tests, etc.) and change everything.

The package `appzcoder/crud-generator` is more complete, in the sense that it produces migrations based on a schema. However, it misses factories and tests.

The main contribution of this package, therefore, is a artisan command that generates crud-related files. The idea that distinguishes this package from those other ones is that the command fetches the details of a given table to generate the following:

- a model
- a controller
- a form request for validation
- a factory
- views to the regular CRUD actions
- a test file
- resource routes

If an of these files already exists, they are not overwritten.

<!--
    TODO:
    If the table schema changes in a way that defeats the existing tests, you can either
        (i) change your tests to make them pass or
        (ii) issue the `php artisan autocrud:regenerate-tests` command
    The latter will, however, erase your own changes to the test files, so use it with care.

    Notice that to ensure correctness, a file must be generated that contains enough information to know which files were generated by this package and whether their contents have changed (a hash of the contents).
-->

## Usage

The command `php artisan autocrud:generate Customer` reads the information on table `customers` and generates the following files:

- `app/Customer.php`: the eloquent model
    <!-- - If you want to store the model elsewhere, see configuration below -->
- `app/Http/Controllers/CustomerController.php`: the controller that converts requests into CRUD actions
- `app/Http/Requests/Customer.php`: the form request file that validates user input
- `database/factories/CustomerFactory.php`: the model factory file
- `resources/views/customer/{index,show,create,edit,_form}.blade.php`: the `_form` view contains the form that is used both for the create and the edit actions.
- `tests/Feature/ManageCustomersTest.php`: feature test class to test the high-level CRUD features

It also updates:

- `routes/web.php` to add `customers` resource route

## How to install

```bash
$ composer require jdferreira/autocrud --dev
```
